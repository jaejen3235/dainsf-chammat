<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-cly1{text-align:left;vertical-align:middle}
.tg .tg-zv4m{border-color:#ffffff;text-align:left;vertical-align:top}
.tg .tg-baqh{text-align:center;vertical-align:top}
.tg .tg-8jgo{border-color:#ffffff;text-align:center;vertical-align:top}
.tg .tg-lqy6{text-align:right;vertical-align:top}
.tg .tg-8sl0{font-size:26px;text-align:center;vertical-align:middle}
.tg .tg-nrix{text-align:center;vertical-align:middle}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>

<div class='main-container'>
    <div class='content-wrapper'>
        <div class='print-btn-wrapper'>
            <button class='btn-large primary' id='btnPrint' onclick='printTable()'>인쇄</button>
        </div>
        <div>
            <form id='frm'>
                <input type='hidden' name='controller' value='mes'>
                <input type='hidden' name='mode' value='registeHaccpPage1'>

                <table class="tg"><thead>
                    <tr>
                        <th class="tg-nrix" rowspan="4">작업 시</th>
                        <th class="tg-8sl0" colspan="7" rowspan="4">CCP-1BP 모니터링일지<br>[세척공정 : 절임갓]</th>
                        <th class="tg-0lax" rowspan="4">결<br>재</th>
                        <th class="tg-0lax">작성자</th>
                        <th class="tg-0lax">승인자</th>
                    </tr>
                    <tr>
                        <th class="tg-0lax" rowspan="3">　<br><br></th>
                        <th class="tg-0lax" rowspan="3">　<br><br></th>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr></thead>
                    <tbody>
                    <tr>
                        <td class="tg-nrix">작성일자</td>
                        <td class="tg-0lax" colspan="4">          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    년      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;월            일</td>
                        <td class="tg-baqh">점검자</td>
                        <td class="tg-0lax" colspan="5">　&nbsp;&nbsp;&nbsp;&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix" rowspan="3">한계기준</td>
                        <td class="tg-nrix" rowspan="2">세척수량</td>
                        <td class="tg-nrix" colspan="2">1차 세척</td>
                        <td class="tg-nrix" colspan="6">2차 세척</td>
                        <td class="tg-nrix" rowspan="2">세척수<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;교체주기</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">원물투입량</td>
                        <td class="tg-nrix">세척시간</td>
                        <td class="tg-nrix">세척횟수</td>
                        <td class="tg-nrix">세척시간</td>
                        <td class="tg-nrix" colspan="4">세척방법</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">1분당<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20리터<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;이상</td>
                        <td class="tg-nrix">5Kg 이하</td>
                        <td class="tg-nrix">30초<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;이상</td>
                        <td class="tg-nrix">2회</td>
                        <td class="tg-nrix">1회당<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10초 이상</td>
                        <td class="tg-nrix" colspan="4">갓(3~4쪽)을&nbsp;&nbsp;&nbsp;충분히 벌린 후,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;상하좌우로 3회 이상<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;흔들며 손으로 비벼서 세척</td>
                        <td class="tg-nrix">오전작업&nbsp;&nbsp;&nbsp;후<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;오후작업 후</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">주기</td>
                        <td class="tg-nrix" colspan="10">작업시작 시 / 작업 중 1시간 마다 /&nbsp;&nbsp;&nbsp;작업종료 시</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix" rowspan="4">방법</td>
                        <td class="tg-cly1" colspan="10" rowspan="4"> ① 초시계와 수도미터를 확인하여 세척수량이 1분에 20리터 이상인지&nbsp;&nbsp;&nbsp;확인한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ② 절임갓은 처음으로 계량하여 1차 세척용량 5kg 이하를 투입한&nbsp;&nbsp;&nbsp;후, 초시계를 이용하여 30초 이상 세척되는지 확인한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ③ 절임갓은 2차 세척물에서 각 10초씩 2회씩 세척방법에 따라&nbsp;&nbsp;&nbsp;세척하는지 확인한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ④ 세척수를 세척수 교체주기마다 교체하는지 확인한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;□ CCP-1BP 모니터링담당자는 한계기준 이탈 시, HACCP팀장에게 보고한 후 HACCP팀과&nbsp;&nbsp;&nbsp;개선조치를 실시한 후 결과를 기록 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    한다.</td>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                        <td class="tg-nrix" rowspan="2">품명</td>
                        <td class="tg-nrix" rowspan="2">측정시각</td>
                        <td class="tg-nrix" rowspan="2">세척수량</td>
                        <td class="tg-nrix" colspan="2">1차 세척</td>
                        <td class="tg-nrix" colspan="4">2차세척</td>
                        <td class="tg-nrix" colspan="2" rowspan="2">세척수 교체</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">원물투입량</td>
                        <td class="tg-nrix">세척시간</td>
                        <td class="tg-nrix" colspan="2">세척횟수 및 시간</td>
                        <td class="tg-nrix" colspan="2">세척방법</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">작업 전</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-baqh" colspan="2">　 </td>
                        <td class="tg-nrix" colspan="2" rowspan="9">오전작업<br>     종료 후<br>     (◯ / ✕)<br>     <br>     <br>     오후작업<br>     종료 후<br>     (◯ / ✕)</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">절임갓</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">KG</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-baqh" colspan="2">◯ / ✕</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">절임갓</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">KG</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-baqh" colspan="2">◯ / ✕</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">절임갓</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">KG</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-baqh" colspan="2">◯ / ✕</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">절임갓</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">KG</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-baqh" colspan="2">◯ / ✕</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">절임갓</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">KG</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-baqh" colspan="2">◯ / ✕</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">절임갓</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">KG</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-baqh" colspan="2">◯ / ✕</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">절임갓</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">KG</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-lqy6">초</td>
                        <td class="tg-baqh" colspan="2">◯ / ✕</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">작업 끝</td>
                        <td class="tg-baqh">:</td>
                        <td class="tg-lqy6">리터</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-lqy6">　</td>
                        <td class="tg-baqh" colspan="2">　 </td>
                    </tr>
                    <tr>
                        <td class="tg-nrix" rowspan="7">개선조치<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;방법</td>
                        <td class="tg-0lax" colspan="10" rowspan="7">□ 세척수량, 원료투입량, 세척횟수, 세척시간, 세척방법, 세척수교체주기 이탈 시&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ① 모니터링담당자는 즉시 세척작업자에게 공정품 다시 세척을&nbsp;&nbsp;&nbsp;실시한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ② 다시 세척 후에는 모니터링담당자(전무)는 공정품을 분리하고&nbsp;&nbsp;&nbsp;즉시 HACCP팀장에게 보고한 후 공정품 검사를 실시한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ③ 검사결과에 이상이 없으면 다음 공정을 진행하고, 기준을&nbsp;&nbsp;&nbsp;벗어나면 폐기하도록 즉시 조치한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ④ 모니터링담당자는 이탈발생 내역을 CCP-1BP 모니터링 점검표&nbsp;&nbsp;&nbsp;개선조치란에 기록하고, HACCP팀장에게 보고한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;□ 기계적 고장인 경우(세척기, 수도미터, 급수배관)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ① 세척담당자는&nbsp;&nbsp;&nbsp;즉시 세척작업을 중지하고 공정품을 보류한 뒤, HACCP팀장에게 보고한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ② HACCP팀장은 기계를 즉시 수리하고, 수리가 불가능할 경우&nbsp;&nbsp;&nbsp;협력업체에 수리 의뢰한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ③ 모니터링담당자는 수리 완료 후 세척 부적합 공정품(이전&nbsp;&nbsp;&nbsp;모니터링 시점 이후 공정품)에 대하여 다시 세척을 실시하고<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     HACCP팀장에게 보고한다.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ④ 모니터링담당자는 이탈발생 내역을 CCP-1BP 모니터링 점검표&nbsp;&nbsp;&nbsp;개선조치란에 기록하고, HACCP팀장에게 보고한다.</td>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                        <td class="tg-baqh" colspan="4">한계기준 이탈내용</td>
                        <td class="tg-baqh" colspan="5">개선조치 및 결과</td>
                        <td class="tg-baqh">조치자</td>
                        <td class="tg-baqh">확    인</td>
                    </tr>
                    <tr>
                        <td class="tg-0lax" colspan="4" rowspan="3">　&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;</td>
                        <td class="tg-0lax" colspan="5" rowspan="3">　&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        <td class="tg-0lax" rowspan="3">　<br><br></td>
                        <td class="tg-0lax" rowspan="3">　<br><br></td>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                        <td class="tg-zv4m"></td>
                    </tr>
                    <tr>
                        <td class="tg-8jgo" colspan="11">- 101 -</td>
                    </tr>
                    </tbody>
                </table>
            </form>
        <div class="paging-area mt20"></div>
    </div>
</div>

<script>
const printTable = () => {
    // 인쇄용 스타일 생성
    const printStyle = document.createElement('style');
    printStyle.innerHTML = `
        @media print {
            @page {
                size: A4;
                margin: 5mm; /* 여백을 최소화 (약 0.5cm) */
            }
            body {
                margin: 0;
                padding: 0;
                -webkit-print-color-adjust: exact;
            }
            body * {
                visibility: hidden;
            }
            .content-wrapper, .content-wrapper * {
                visibility: visible;
            }
            .content-wrapper {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            
            /* 인쇄 시 불필요한 요소 숨김 */
            .print-btn-wrapper, .paging-area, 
            button, input[type="text"], input[type="checkbox"], input[type="radio"] {
                display: none !important;
            }

            /* 테이블 스타일 강제 조정 (핵심 부분) */
            table.tg {
                width: 100%;
                table-layout: fixed; /* 셀 너비 고정 */
            }
            
            /* 글자 크기와 여백을 대폭 줄임 */
            .tg td, .tg th {
                font-size: 10pt !important;  /* 기존 14px -> 9pt로 축소 */
                padding: 3px !important;    /* 기존 10px -> 2px로 축소 */
                line-height: 1.1 !important; /* 줄 간격 좁힘 */
                height: auto !important;     /* 불필요한 높이 제거 */
            }

            /* 제목 부분(CCP-2BP...) 폰트 크기 별도 조정 */
            .tg .tg-crli {
                font-size: 14pt !important; /* 제목은 너무 작지 않게 */
            }

            /* 전체 내용을 강제로 축소 (필요시 수치 조절: 0.8 등) */
            .content-wrapper {
                zoom: 85%; /* 전체 크기를 85%로 축소하여 한 페이지에 맞춤 */
            }
        }
    `;
    document.head.appendChild(printStyle);
    window.print();
    document.head.removeChild(printStyle);
};
</script>